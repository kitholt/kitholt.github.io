<!DOCTYPE html>
<html lang="zh-CN">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
  
  <title itemprop="name">学一学神经网络 | 欢迎来到Franの杂货铺</title>
  
    <link rel="shortcut icon" href="https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/images/favicon.ico">
  
  <meta http-equiv="x-dns-prefetch-control" content="on">
  <meta name="browsermode" content="application">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noto+SerifMerriweather|Merriweather+Sans|Source+Code+Pro|Ubuntu:400,700|Noto+Serif+SC" media="all">
  <link rel="dns-prefetch" href="//cdn.jsdelivr.net">
  <link rel="stylesheet" id="saukra_css-css" href="/css/style.css" type="text/css" media="all">
  <link rel="stylesheet" href="/css/lib.min.css" media="all">
  <link rel="stylesheet" href="/css/font.css" media="all">
  <link rel="stylesheet" href="/css/insight.css" media="all">
  <link rel="stylesheet" href="/css/jquery.fancybox.min.css" media="all">
  <link rel="stylesheet" href="/css/zoom.css" media="all">
  <link rel="stylesheet" type="text/css" href="/css/sharejs.css">
  <!-- 球形标签 -->
  <link rel="stylesheet" href="/css/tags-bubble.css">

<!--   <link rel="stylesheet" id="saukra_css-css" href="https://2heng.xin/wp-content/cache/autoptimize/css/autoptimize_ad42a61f4c7d4bdd9f91afcff6b5dda5.css
" type="text/css" media="all"> -->
  <script>
  /*Initial Variables*/
  var mashiro_option = new Object();
  var mashiro_global = new Object();
  mashiro_option.NProgressON = true;
  /* 
   * 邮箱信息之类的东西可以填在这里，这些js变量基本都作用于sakura-app.js
   * 这样的设置仅是为了方便在基于PHP开发的主题中设置js变量，既然移植到了Node上，我想或许可以精简这一逻辑吧
   */
  mashiro_option.email_domain = "";
  mashiro_option.email_name = "";
  mashiro_option.cookie_version_control = "";
  mashiro_option.qzone_autocomplete = false;
  mashiro_option.site_name = "KitholtFrank";
  mashiro_option.author_name = "Frank";
  mashiro_option.site_url = "https://kitholt.github.io/";
  mashiro_option.v_appId = "vK4njxg3C8GQOr9L6M8Hav7x-gzGzoHsz";
  mashiro_option.v_appKey = "e9eG1y4IcG54g4l676M1xeWQ";
  mashiro_option.mathjax = "0";
  mashiro_option.qq_api_url = "https://api.mashiro.top/qqinfo/"; 
  mashiro_option.qq_avatar_api_url = "https://api.mashiro.top/qqinfo/";

  // mashiro_option.jsdelivr_css_src = "https://cdn.jsdelivr.net/gh/moezx/cdn@3.4.5/css/lib.min.css";
  // mashiro_option.float_player_on = true;

  /*End of Initial Variables*/
  </script>
  <script type="text/javascript">
  var bg = "https://cdn.jsdelivr.net/gh/kitholt/cdn/img/warriors.webp,https://cdn.jsdelivr.net/gh/kitholt/cdn/img/best.webp,https://cdn.jsdelivr.net/gh/kitholt/cdn/img/curry.webp,https://cdn.jsdelivr.net/gh/kitholt/cdn/img/chase.webp,https://cdn.jsdelivr.net/gh/kitholt/cdn/img/stadium.webp,https://cdn.jsdelivr.net/gh/kitholt/cdn/img/splashbros.webp,https://cdn.jsdelivr.net/gh/kitholt/cdn/img/coolkt.webp,".split(",");
  var bgindex = Math.floor(Math.random()*bg.length);
  if (!!window.ActiveXObject || "ActiveXObject" in window) { //is IE?
    alert('朋友，IE浏览器未适配哦~');
  }
  </script>
  <style type="text/css">
  .hljs-ln{border-collapse:collapse}.hljs-ln td{padding:0}.hljs-ln-n:before{content:attr(data-line-number)}
  </style>
  <style type="text/css">.site-top .lower nav{display:block !important;}.author-profile i,.post-like a,.post-share .show-share,.sub-text,.we-info a,span.sitename,.post-more i:hover,#pagination a:hover,.post-content a:hover,.float-content i:hover{color:#FE9600}.feature i,.download,.navigator i:hover,.links ul li:before,.ar-time i,span.ar-circle,.object,.comment .comment-reply-link,.siren-checkbox-radio:checked + .siren-checkbox-radioInput:after{background:#FE9600}::-webkit-scrollbar-thumb{background:#FE9600}.download,.navigator i:hover,.link-title,.links ul li:hover,#pagination a:hover,.comment-respond input[type='submit']:hover{border-color:#FE9600}.entry-content a:hover,.site-info a:hover,.comment h4 a,#comments-navi a.prev,#comments-navi a.next,.comment h4 a:hover,.site-top ul li a:hover,.entry-title a:hover,#archives-temp h3,span.page-numbers.current,.sorry li a:hover,.site-title a:hover,i.iconfont.js-toggle-search.iconsearch:hover,.comment-respond input[type='submit']:hover{color:#FE9600}.comments .comments-main{display:block !important;}.comments .comments-hidden{display:none !important;}background-position:center center;background-attachment:inherit;}
  </style>
</head>
</html>
<body class="page-template page-template-user page-template-page-analytics page-template-userpage-analytics-php page page-id-1297 chinese-font serif isWebKit">
  <div class="scrollbar" id="bar">
  </div>
  <a href="#" class="cd-top faa-float animated"></a>
  <section id="main-container">
    <div class="headertop filter-dim">
  <div id="banner_wave_1"></div>
  <div id="banner_wave_2"></div>
  <figure id="centerbg" class="centerbg">
    <div class="focusinfo no-select">
      <div class="header-tou">
        <a href="https://kitholt.github.io/">
          <img src="https://cdn.jsdelivr.net/gh/kitholt/cdn/img/kt3.jpeg">
        </a>
      </div>
      <div class="header-info">
        <p>你来啦!欢迎来到Franの杂货铺！</p>
        <div class="top-social_v2">
          <li id="bg-pre">
            <img class="flipx" src="https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/other/next-b.svg">
          </li>
          
            
              
                <li>
                  <a href="http://github.com/kitholt" target="_blank" class="social-github" title="github">
                    <img src="https://cdn.jsdelivr.net/gh/kitholt/cdn/img/socialgithub.png">
                  </a>
                </li>
              
            
              
                <li>
                  <a href="https://weibo.com/u/7188904314" target="_blank" class="social-github" title="sina">
                    <img src="https://cdn.jsdelivr.net/gh/kitholt/cdn/img/socialsina.png">
                  </a>
                </li>
              
            
              
                <li>
                  <a href="https://music.163.com/#/my/m/music/playlist?id=890672374" target="_blank" class="social-github" title="wangyiyun">
                    <img src="https://cdn.jsdelivr.net/gh/kitholt/cdn/img/socialwangyiyun.png">
                  </a>
                </li>
              
            
              
                <li>
                  <a href="https://www.zhihu.com/people/frank-41-24-53" target="_blank" class="social-github" title="zhihu">
                    <img src="https://cdn.jsdelivr.net/gh/kitholt/cdn/img/socialzhihu.png">
                  </a>
                </li>
              
            
              
                <li class="wechat">
                  <a href="/#">
                    <img src="https://cdn.jsdelivr.net/gh/kitholt/cdn/img/socialwechat.png">
                  </a>
                  <div class="wechatInner">
                    <img src="https://cdn.jsdelivr.net/gh/kitholt/cdn/img/socialQR.jpg">
                  </div>
                </li>
              
            
          
          <li id="bg-next">
            <img src="https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/other/next-b.svg">
          </li>
        </div>
      </div>
    </div>
  </figure>
  <div id="video-container" style="">
    <video style="object-fit: fill" id="bgvideo" class="video" video-name="" src="" width="auto" preload="auto">
    </video>
    <div id="video-btn" class="loadvideo videolive">
    </div>
    <div id="video-add">
    </div>
    <div class="video-stu">
    </div>
  </div>
  <div class="headertop-down faa-float animated" onclick="headertop_down()">
    <span>
      <i class="fa fa-chevron-down" aria-hidden="true">
      </i>
    </span>
  </div>
</div>
    <div id="page" class="site wrapper">
      <header class="site-header no-select gizle sabit" role="banner">
  <div class="site-top">
    <div class="site-branding">
      <span class="site-title">
        <span class="logolink moe-mashiro">
          <a href="/">
            <span class="sakurasono">Kitholt</span>
            <span class="shironeko">Frank</span>
          </a>
        </span>
      </span>
    </div>
    <div class="searchbox search-form-submit">
      <i class="iconfont js-toggle-search iconsearch icon-search">
      </i>
    </div>
    <div id="show-nav" class="showNav mobile-fit">
      <div class="line line1">
      </div>
      <div class="line line2">
      </div>
      <div class="line line3">
      </div>
    </div>
    <div class="lower-cantiner">
      <div class="lower">
        <nav class="mobile-fit-control hide">
          <ul id="menu-new" class="menu">
            
              <li>
                <a href="/">
                  <span class="faa-parent animated-hover">
                    <i class="fa  fa-fort-awesome faa-shake" aria-hidden="true"></i>
                    首页
                  </span>
                </a>
                
              </li>
            
              <li>
                <a href="/archives">
                  <span class="faa-parent animated-hover">
                    <i class="fa  fa-archive faa-shake" aria-hidden="true"></i>
                    归档
                  </span>
                </a>
                
                  <ul class="sub-menu">
                    
                      <li>
                        <a href="/tags">
                          <i class="fa fa-tags" aria-hidden="true"></i>
                          标签
                        </a>
                      </li>
                    
                      <li>
                        <a href="/categories/技术/">
                          <i class="fa fa-code" aria-hidden="true"></i>
                          技术
                        </a>
                      </li>
                    
                      <li>
                        <a href="/categories/生活/">
                          <i class="fa fa-file-text-o" aria-hidden="true"></i>
                          生活
                        </a>
                      </li>
                    
                      <li>
                        <a href="/categories/资源/">
                          <i class="fa fa-cloud-download" aria-hidden="true"></i>
                          资源
                        </a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="javascript:;">
                  <span class="faa-parent animated-hover">
                    <i class="fa  fa-list-ul faa-vertical" aria-hidden="true"></i>
                    清单
                  </span>
                </a>
                
                  <ul class="sub-menu">
                    
                      <li>
                        <a href="/music/">
                          <i class="fa fa-headphones" aria-hidden="true"></i>
                          歌单
                        </a>
                      </li>
                    
                      <li>
                        <a href="/bangumi/">
                          <i class="fa fa-film faa-vertical" aria-hidden="true"></i>
                          番组
                        </a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/comment/">
                  <span class="faa-parent animated-hover">
                    <i class="fa  fa-pencil-square-o faa-tada" aria-hidden="true"></i>
                    留言板
                  </span>
                </a>
                
              </li>
            
              <li>
                <a href="/donate/">
                  <span class="faa-parent animated-hover">
                    <i class="fa  fa-heart faa-pulse" aria-hidden="true"></i>
                    资瓷
                  </span>
                </a>
                
              </li>
            
              <li>
                <a href="/">
                  <span class="faa-parent animated-hover">
                    <i class="fa  fa-leaf faa-wrench" aria-hidden="true"></i>
                    关于
                  </span>
                </a>
                
                  <ul class="sub-menu">
                    
                      <li>
                        <a href="/about/">
                          <i class="fa fa-meetup" aria-hidden="true"></i>
                          我？
                        </a>
                      </li>
                    
                  </ul>
                
              </li>
            
          </ul>
        </nav>
      </div>
    </div>
  </div>
</header>

      <link rel="stylesheet" type="text/css" href="/css/sharejs.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.4.2/tocbot.css">
<div class="pattern-center-blank"></div>

  <div class="pattern-center single-center">
    <!-- 有配图默认渲染第一张 -->
    <div class="pattern-attachment-img lazyload" style="background-image: url(https://cdn.jsdelivr.net/gh/kitholt/cdn/cdn/AI/abstractedThinking.jpg);" src="https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/loader/orange.progress-bar-stripe-loader.svg" data-src="https://cdn.jsdelivr.net/gh/kitholt/cdn/cdn/AI/abstractedThinking.jpg">
    </div>
    <header class="pattern-header single-header">
      <h1 class="entry-title">
      学一学神经网络</h1>
      <p class="entry-census">
        <span>
          <a href="">
            <img src="https://cdn.jsdelivr.net/gh/kitholt/cdn/img/kt3.jpeg">
          </a>
        </span>
        <span>
          <a href=""></a>
        </span>
        <span class="bull">
        ·</span>
        2022-5-22<span class="bull">
        ·</span>
      <span id="busuanzi_value_page_pv"></span>次阅读</p>
    </header>
  </div>

<div id="content" class="site-content">
  <div id="primary" class="content-area">
    <main id="main" class="site-main" role="main">
      <article id="post-1" class="post-1 post type-post status-publish format-standard has-post-thumbnail hentry category-uncategorized">
        <div class="toc"></div>
        <!--<div class="toc-entry-content"><!-- 套嵌目录使用（主要为了支援评论）-->
        
        <div class="entry-content">
          <h1 id="简单学一学神经网络（基于鱼书）"><a href="#简单学一学神经网络（基于鱼书）" class="headerlink" title="简单学一学神经网络（基于鱼书）"></a>简单学一学神经网络（基于鱼书）</h1><h2 id="感知机"><a href="#感知机" class="headerlink" title="感知机"></a>感知机</h2><p><img src="https://cdn.jsdelivr.net/gh/kitholt/cdn/cdn/AI/perceptron.jpg" alt></p>
<p>正如图上所示，若干个输入变量通过加权求和，并通过一个跃阶函数的映射，输出结果。在生物学里就是，神经元接收一些信号，然后这些信号会在神经细胞核内进行一系列综合处理，最后当这个处理后的信号达到一定的阈值，该细胞就会被激活，产生一个刺激的输出。这就是所谓的感知。感知机就是对人脑神经元的一次感知模拟。</p>
<h3 id="利用感知机实现简单的逻辑电路"><a href="#利用感知机实现简单的逻辑电路" class="headerlink" title="利用感知机实现简单的逻辑电路"></a>利用感知机实现简单的逻辑电路</h3><p>比如实现与门</p>
<pre><code class="python">import numpy as np
def AND(x1, x2):
    w1, w2= 0.5, 0.5
    temp = x1 * w1 + x2 * w2
    if temp &gt;= 1:
        return 1
    elif temp &lt; 1:
        return 0

#测试一下
print(AND(1, 0)) #0
</code></pre>
<hr>
<p>与非门</p>
<pre><code class="python">def NAND(x1, x2):
    x = np.array([x1, x2])
    w = np.array([-0.5, -0.5])
    b = 0.7
    temp = np.sum(x * w) + b
    if temp &gt; 0:
        return 1
    else:
        return 0

print(NAND(0, 0))#1
</code></pre>
<hr>
<p>或门</p>
<pre><code class="python">def OR(x1, x2):
    x = np.array([x1, x2])
    w = np.array([0.5, 0.5])
    b = -0.2
    temp = np.sum(x * w) + b
    if temp &gt; 0:
        return 1
    else:
        return 0

print(OR(1, 1))#1
</code></pre>
<p>可以发现这三种门的实现都是通过一个线性函数来判断的，也就是三种门的解是能被一条直线给划分开的。由一条直线所划分产生的空间称为线性空间。如由曲线划分的则称为非线性空间。</p>
<hr>
<p>异或门</p>
<pre><code class="python">def XOR(x1, x2):
    s1 = OR(x1, x2)
    s2 = NAND(x1, x2)
    return AND(s1, s2)

XOR(1, 0)#1
XOR(0, 0)#0
</code></pre>
<p>经过实验，发现，异或门的实现不能像与门那样，仅仅通过一个线性函数来判断，它的解空间是由一条曲线划分出来的。按照常规的思路，求出这条曲线的表达式就解决了这个问题。通过阅读鱼书可以知道，通过对原有的三种门的叠加（如上代码所示）可以实现异或门。单层感知机解决不了的问题，多层感知机就可以解决。这也间接说明了多层感知机能够去拟合一条曲线！</p>
<hr>
<h2 id="人工神经网络（ANN）AKA-激活函数为非跃阶函数的多层感知机"><a href="#人工神经网络（ANN）AKA-激活函数为非跃阶函数的多层感知机" class="headerlink" title="人工神经网络（ANN）AKA 激活函数为非跃阶函数的多层感知机"></a>人工神经网络（ANN）<span style="color : green;">AKA</span> 激活函数为非跃阶函数的多层感知机</h2><p>长啥样以及它的组成成分</p>
<p><img src="https://cdn.jsdelivr.net/gh/kitholt/cdn/cdn/AI/ANN_structure.jpg" alt></p>
<h3 id="激活函数"><a href="#激活函数" class="headerlink" title="激活函数"></a>激活函数</h3><pre><code class="python">import matplotlib.pyplot as plt
import numpy as np
# 跃阶函数
def step_func(x):
    y = x &gt; 0
    return y.astype(np.int)

#绘制跃阶函数图像
x = np.arange(-5.0, 5.0, 0.1)
y = step_func(x)
plt.plot(x, y, label = &#39;step function&#39;)
plt.legend()
plt.grid()
</code></pre>
<hr>
<pre><code class="python">#sigmoid函数
def sigmoid(x):
    return 1 / (1 + np.exp(-x))
</code></pre>
<hr>
<pre><code class="python">#修正线性单元ReLu
def ReLu(x):
    return np.maximum(0, x)
</code></pre>
<hr>
<pre><code class="python">#softmax函数(用于多元分类)
def softmax(x):
    max_x = np.max(x)
    exp = np.exp(max_x - x)
    sum_exp = np.sum(exp)
    return exp / sum_exp
</code></pre>
<p>对于softmax函数，在分子分母都乘上C这个任意常数，然后将C移动到指数函数里面（此时里面变成x加上或者减去一个C’），并不会改变运算的结果。为什么要这样子做呢，这是因为指数函数的运算的自变量x如果特别大，会需要特别大的计算量。（指数爆炸嘛）</p>
<h3 id="损失函数"><a href="#损失函数" class="headerlink" title="损失函数"></a>损失函数</h3><p>用于衡量神经网络的性能的一项重要指标。所谓损失就是实际结果与理想结果的偏差。比如预测，我们当然希望一次预测成功的几率是100%，现实情况可能是90%，那这个10%就是损失。有n次预测就有n次损失，用一个函数将这些损失表示出来，很明显只要求出这个函数的最小值，就能将损失值降到最低。这也是神经网络优化的目标。那么问题来了，哪些函数可以用来作损失函数？下面给出两个常用的损失函数。</p>
<hr>
<pre><code class="python">import numpy as np
#均方误差函数
def mse(y, t):
    return 0.5 * np.sum((y - t) ** 2)
</code></pre>
<pre><code class="python">import numpy as np
#交叉熵函数
def cross_entropy_error(y, t):
    delta = 1e-7
    return -np.sum(t * np.log(y + delta))
</code></pre>
<p>在定义的交叉熵函数中使用了delta这一变量，是为了防止出现真数为0的情况。（结果为负无穷大）</p>
<h3 id="batch"><a href="#batch" class="headerlink" title="batch"></a>batch</h3><p>一批一批地训练样本。比如样本总量500，分成10批，也就是10 batch。</p>
<h3 id="iteration"><a href="#iteration" class="headerlink" title="iteration"></a>iteration</h3><p>迭代。1次batch称为1次iteration，可以理解为每10次iteration后权重参数都要进行1次更新。</p>
<h3 id="epoch"><a href="#epoch" class="headerlink" title="epoch"></a>epoch</h3><p>时代，纪元。训练集中所有样本全部训练1次称为1个epoch </p>
<h3 id="数值微分-给我狠狠地导！"><a href="#数值微分-给我狠狠地导！" class="headerlink" title="数值微分(给我狠狠地导！)"></a>数值微分(给我狠狠地导！)</h3><p>利用微小差分求解导数的过程称为数值微分</p>
<pre><code class="python">def numerical_diff(f, x):
    h = 1e-4
    return (f(x + h) - f(x - h)) / (2 * h)
</code></pre>
<pre><code class="python">def fun_1(x):
    return np.sum(x ** 2)
</code></pre>
<pre><code class="python">numerical_diff(fun_1, np.array([0, 0]))#0.0
</code></pre>
<h3 id="梯度gradient（梯度下降法）"><a href="#梯度gradient（梯度下降法）" class="headerlink" title="梯度gradient（梯度下降法）"></a>梯度gradient（梯度下降法）</h3><p>是由一个函数的所有偏导数构成的一个向量，其方向指向函数变化（上升）最快的方向。</p>
<pre><code class="python">#for循环用于求解x每个元素的数值积分，也就是方向导数
def numerical_grad(f, x):
    h = 1e-4
    grad = np.zeros_like(x)
    for index in range(x.size):
        temp = x[index]#保存初值

        x[index] = temp + h
        fxh1 = f(x)
        x[index] = temp - h
        fxh2 = f(x)
        grad[index] = (fxh1 - fxh2) / (2 * h)

        x[index] = temp #将初值恢复
    return grad
</code></pre>
<p>但是以上求解梯度的代码只适用于参数x是一维数组的情况，下面给出改进后的方法</p>
<hr>
<pre><code class="python">#首先将W数组和梯度数组全部“碾平”---&gt;1*n的np数组，然后记录W数组一开始的shape，作为最后grad返回的条件判断
#比如W_shape = （2， 3），那么就需要将现在shape是（1， n）的grad数组的shape重新转为（2， 3）
##参数说明：f为损失函数，W为权重数组，W_shape记录W数组一开始的shape，W_flatten表示“碾平”后的数组...
#fxh1、fxh2为作【中心差分】的两个前后值
def numerical_grad(f, W):
    print(&#39;before&#39;, W)
    h = 1e-4
    grad = np.zeros_like(W)
    ########################################
    grad = grad.reshape(1, W.size)
    ########################################
    W_shape = W.shape
    ########################################
    W_flatten = W.reshape(1, W.size)
    ########################################
    for index in range(W_flatten.size):
        temp = W_flatten[0][index]#保存初值
        print(&#39;temp&#39;, temp)
        W_flatten[0][index] = temp + h
        if len(W_shape) !=1:
            W_flatten = W_flatten.reshape(W_shape[0], W_shape[1])
        fxh1 = f(W_flatten)
        print(&#39;fxh1&#39;, fxh1)
        ########################################
        W_flatten = W_flatten.reshape(1, W.size)
        ########################################
        W_flatten[0][index] = temp - h
        if len(W_shape) !=1:
            W_flatten = W_flatten.reshape(W_shape[0], W_shape[1])
        fxh2 = f(W_flatten)
        print(&#39;fxh2&#39;, fxh2)
        grad[0][index] = (fxh1 - fxh2) / (2 * h)#求某个方向的方向导数
        ########################################
        W_flatten = W_flatten.reshape(1, W.size)
        ########################################
        W_flatten[0][index] = temp #将初值恢复
    if W.ndim != 1:#如果不是一维的，则需要将grad的shape转换成和W数组一致
        print(&#39;after&#39;, W)
        return grad.reshape(W_shape[0], W_shape[1])
    else:#一维的情况...
        print(&#39;after&#39;, W)
        return grad
</code></pre>
<p>梯度下降法：随机梯度下降法，批量梯度下降法，小批量梯度下降法</p>
<h4 id="写一个简单的simpleNet类来求梯度，再实现梯度下降法"><a href="#写一个简单的simpleNet类来求梯度，再实现梯度下降法" class="headerlink" title="写一个简单的simpleNet类来求梯度，再实现梯度下降法"></a>写一个简单的simpleNet类来求梯度，再实现梯度下降法</h4><pre><code class="python">class simpleNet:
    def __init__(self):
        #self.W = np.random.randn(2, 3)#权重初始化
        self.W = np.array([[0.47355232, 0.9977393, 0.84668094], 
                  [0.85557411, 0.03563661, 0.69422093]])
    def predict(self, x):#预测方法
        return np.dot(x, self.W)
    def loss(self, x, t):#定于计算损失值的损失函数
        z = self.predict(x)
        y = softmax(z)
        loss = cross_entropy_error(y, t)
        return loss
    def accuary(self, x, t):
        y = self.predict(x)
        y = np.argmax(y, axis = 1)
        t = np.argmax(t, axis = 1)
        accuary = np.sum(y == t) / float(x.shape[0])
        return accuary
</code></pre>
<p>notes: cross_entropy_error是上文定义好的…</p>
<pre><code class="python">sn = simpleNet()
sn.W

x = np.array([0.6, 0.9])
p = sn.predict(x)
p

#设置正确解标签
t = np.array([0, 0, 1])
</code></pre>
<pre><code class="python">def f(W):
    return sn.loss(x, t)

numerical_grad(f, sn.W)
</code></pre>
<hr>
<h3 id="反向传播"><a href="#反向传播" class="headerlink" title="反向传播"></a>反向传播</h3><p>有反向传播就有正向传播，正向传播指的是神经网络从输入层到输出层的计算过程。我们都知道这一过程不是百分百完美的，会产生损失。如何修正损失，上文也讲到了—梯度下降法。反向传播其实就是更新迭代权重的过程，它从损失函数的结果出发，求解损失函数关于权重的偏导数，而将这些偏导数组合在一起就是梯度！而实现反向传播的 数学前提则是—链式法则。+</p>
<h3 id="以层为单位实现神经网络的处理（搭建乐高积木）—代码实现"><a href="#以层为单位实现神经网络的处理（搭建乐高积木）—代码实现" class="headerlink" title="以层为单位实现神经网络的处理（搭建乐高积木）—代码实现"></a>以层为单位实现神经网络的处理（搭建乐高积木）—代码实现</h3><h4 id="ReLu层"><a href="#ReLu层" class="headerlink" title="ReLu层"></a>ReLu层</h4><pre><code class="python">class ReLu:
    def __init__(self):
        self.mask = None
    def forward(self, x):
        self.mask = (x &lt;= 0)
        out = x.copy()
        out[self.mask] = 0
        return out
    def backfard(self, dout):
        dout[self.mask] = 0
        dx = dout
        return dx
</code></pre>
<h4 id="Sigmoid层"><a href="#Sigmoid层" class="headerlink" title="Sigmoid层"></a>Sigmoid层</h4><pre><code class="python">class Sigmoid:
    def __init__(self):
        self.out = None
    def forward(self, x):
        out = 1 / (1 + np.exp(-x))
        return out
    def backward(self, dout):
        dx = dout * (1.0 - self.out) * self.out
        return dx
</code></pre>
<h4 id="softmaxWithLoss层（一般放在输出层）"><a href="#softmaxWithLoss层（一般放在输出层）" class="headerlink" title="softmaxWithLoss层（一般放在输出层）"></a>softmaxWithLoss层（一般放在输出层）</h4><h4 id="Affine层（仿射变换层）"><a href="#Affine层（仿射变换层）" class="headerlink" title="Affine层（仿射变换层）"></a>Affine层（仿射变换层）</h4><p>正向传播中进行的矩阵乘积运算被称为“仿射变换层”，因为在几何学中，仿射变换包括一次线性变换和一个平移，分别对应神经网络的加权和运算与加偏置运算。</p>
<pre><code class="python">class Affine:
    def __init__(self, W, B):
        self.x = None
        self.W = W
        self.B = B
        self.dW = None
        self.dB = None
    def forward(self, x):
        self.x = x
        out = np.dot(x, self.W) + self.B
        return out
    def backward(self, dout):
        dx = np.dot(dout, self.W.T)
        self.dW = np.dot(self.W.T, dout)
        self.dB = np.sum(dout, axis = 0)
        return dx
</code></pre>
<hr>
<hr>
<h3 id="神经网络的目标—学习！"><a href="#神经网络的目标—学习！" class="headerlink" title="神经网络的目标—学习！"></a>神经网络的目标—学习！</h3><p>人的学习是一个无限试错的过程…神经网络的亦是如此。神经网络各个参数（权重，偏置）的初始值取到多少才合适是一个值得研究的问题。如何选取初值？选取了初值后怎么对它们进行迭代更新（梯度更新的方式）。以及超参数的取值和更新问题（比如学习率衰减方法）</p>
<h4 id="权重初始值的设置"><a href="#权重初始值的设置" class="headerlink" title="权重初始值的设置"></a>权重初始值的设置</h4><p>如果权重初始值全部设置为0，神经网络将无法进行正常的学习。因为这样子的话，正向传播的结果始终相等，这意味着反向传播的权重更新也是一样的。下面有两种方法来设置权重的初始值…</p>
<h5 id="Xavier初始值"><a href="#Xavier初始值" class="headerlink" title="Xavier初始值"></a>Xavier初始值</h5><p>假设当前需要初始化权重的层为A，它与前一层有n个节点连接时，初始值使用标准差1/根号下n的分布</p>
<h5 id="He-初始值"><a href="#He-初始值" class="headerlink" title="He 初始值"></a>He 初始值</h5><p>假设当前需要初始化权重的层为A，它与前一层有n个节点连接时，初始值使用标准差根号下n分之2的分布</p>
<p>权重的初始值设置很重要。如果设置不当，会出现“梯度消失”的情况。</p>
<h4 id="权重的迭代更新"><a href="#权重的迭代更新" class="headerlink" title="权重的迭代更新"></a>权重的迭代更新</h4><p>也就是要求梯度如何下降？“如何”强调的是方法。下面学习四种方法，它们各有优缺点。</p>
<ol>
<li><p>SGD</p>
</li>
<li><p>Momentum</p>
<p><img src="https://cdn.jsdelivr.net/gh/kitholt/cdn/cdn/AI/momentum.jpeg" alt></p>
<p>v对应物理上的速度，第二条公式表示物体在梯度方向上受力，物体的速度在增加。</p>
</li>
<li><p>AdaGrad</p>
<p><img src="https://cdn.jsdelivr.net/gh/kitholt/cdn/cdn/AI/adaGrad.jpeg" alt></p>
<p>第一个公式表示某参数的梯度的平方。如果在一次更新中，梯度变化较大，那么h的值也会越大，那在下一次更新中，其学习率会被降低（看第二个公式）</p>
</li>
<li><p>Adam（Momentum + AdaGrad）</p>
</li>
</ol>
<h3 id="标准（正规）化！"><a href="#标准（正规）化！" class="headerlink" title="标准（正规）化！"></a>标准（正规）化！</h3><p>强制调整激活值的分布范围，使每一层的值具有更好的分布广度，如果总是集中在0,1附近，那么在反向传播时会出现梯度消失的情况。</p>
<ul>
<li>使增加学习率（加快学习速度）</li>
<li>不再那么依赖初始值（消除量纲影响、较大或较小的数值会对最后加权和结果的影响）</li>
<li>抑制过拟合（降低Dropout等的必要性）</li>
</ul>
<h3 id="正则化！"><a href="#正则化！" class="headerlink" title="正则化！"></a>正则化！</h3><p>主要用于避免过拟合的产生和减少网络误差。</p>
<h4 id="权值衰减"><a href="#权值衰减" class="headerlink" title="权值衰减"></a>权值衰减</h4><p>给损失函数加上λ*（L2范数），其中lambda表示惩罚系数（权值衰减系数），它的值越大，对权重的惩罚就越大。（通俗理解就是，让权重不敢继续增加）</p>
<h4 id="Dropout"><a href="#Dropout" class="headerlink" title="Dropout"></a>Dropout</h4><p><img src="https://cdn.jsdelivr.net/gh/kitholt/cdn/cdn/AI/dropout.jpg" alt></p>
<p>在前向传播过程中，让神经元以一定的概率p停止工作，这样在反向传播的过程中，停止工作的神经元的参数权重就不会被更新。这样就可以使模型泛化性能更强。</p>
<hr>
<p>关于Dropout的类比（转载自<a href="https://blog.csdn.net/stdcoutzyx/article/details/49022443）" target="_blank" rel="noopener">https://blog.csdn.net/stdcoutzyx/article/details/49022443）</a></p>
<p>虽然直观上看dropout是ensemble在分类性能上的一个近似，然而实际中，dropout毕竟还是在一个神经网络上进行的，只训练出了一套模型参数。那么他到底是因何而有效呢？这就要从动机上进行分析了。论文中作者对dropout的动机做了一个十分精彩的类比：</p>
<p>在自然界中，在中大型动物中，一般是有性繁殖，有性繁殖是指后代的基因从父母两方各继承一半。但是从直观上看，似乎无性繁殖更加合理，因为无性繁殖可以保留大段大段的优秀基因。而有性繁殖则将基因随机拆了又拆，破坏了大段基因的联合适应性。</p>
<p>但是自然选择中毕竟没有选择无性繁殖，而选择了有性繁殖，须知物竞天择，适者生存。我们先做一个假设，那就是基因的力量在于混合的能力而非单个基因的能力。不管是有性繁殖还是无性繁殖都得遵循这个假设。为了证明有性繁殖的强大，我们先看一个概率学小知识。</p>
<p>比如要搞一次恐怖袭击，两种方式：</p>
<p>集中50人，让这50个人密切精准分工，搞一次大爆破。<br>将50人分成10组，每组5人，分头行事，去随便什么地方搞点动作，成功一次就算。<br>哪一个成功的概率比较大？ 显然是后者。因为将一个大团队作战变成了游击战。</p>
<p>那么，类比过来，有性繁殖的方式不仅仅可以将优秀的基因传下来，还可以降低基因之间的联合适应性，使得复杂的大段大段基因联合适应性变成比较小的一个一个小段基因的联合适应性。</p>
<p>dropout也能达到同样的效果，它强迫一个神经单元，和随机挑选出来的其他神经单元共同工作，达到好的效果。消除减弱了神经元节点间的联合适应性，增强了泛化能力。</p>
<hr>
<h5 id="随想录"><a href="#随想录" class="headerlink" title="随想录"></a>随想录</h5><p>噢，我学了学dropout的相关概念，dropout（层）会舍弃指定比例的神经元，将它们“断电”（不输出），从而提高模型的鲁棒性。（要学习的参数越多，越容易出现过拟合）</p>
<p>哦还有关于中间特征提取的理解，除了第1层的神经元负责接收n维的数据和最后1层的结果层，中间层的每1层的每1个神经元都可以看作是1个学习到的特征，比如中间 某1层 有100个神经元（100个特征），它的下1层有50神经元。（50个特征）</p>
<h2 id="卷积神经网络"><a href="#卷积神经网络" class="headerlink" title="卷积神经网络"></a>卷积神经网络</h2><h3 id="卷积层"><a href="#卷积层" class="headerlink" title="卷积层"></a>卷积层</h3><p>填充</p>
<p>可以理解为扩充输入数据的大小，比如一个大小为（3， 3）的输入数据，经过填充可变为（4， 4），填充的值可以为任意整数。</p>
<hr>
<p>卷积运算</p>
<p><img src="https://cdn.jsdelivr.net/gh/kitholt/cdn/cdn/AI/convolutional_operations.jpg" alt></p>
<p>对于输入数据，卷积运算以一定间隔滑动滤波器的窗口并应用（乘积累加运算）。我愿称之为“滑动计算”。</p>
<p>滤波器里面的每个元素就是权重参数。</p>
<hr>
<p>步幅</p>
<p>也就是上面提到的“一定间隔”，可以理解为步长。</p>
<hr>
<p><span style="color:red;font-size:20px">注意：</span>填充的值越大会使输出数据大小越大，而步幅增大则会使输出数据变小。</p>
<p>输入数据为三维数组的书写形式 —&gt; （C， H，W ），对应的维度的滤波器的书写形式 —&gt; （FC， FH，FW ）</p>
<p>如果涉及多个滤波器时，则写成（FN，FC， FH，FW ）其中FN表示滤波器的数量</p>
<h3 id="池化层"><a href="#池化层" class="headerlink" title="池化层"></a>池化层</h3><p>池化是缩小高、长方向上的空间的运算。池化运算也是以一定间隔平滑移动窗口。只不过这个窗口仅仅是一个窗口（没有参数元素，可以理解为一个框框，只是在框框限定的目标区域内进行取最大值【Max池化】或者平均值【Average池化】操作），比如下图给出的则是Max池化。</p>
<p><img src="https://cdn.jsdelivr.net/gh/kitholt/cdn/cdn/AI/max_pooling.jpg" alt></p>

        </div>
        <!-- .entry-content -->
        <div class="single-reward">
          <div class="reward-open">赏
            <div class="reward-main">
              <ul class="reward-row">
                <li class="alipay-code"><img src="https://cdn.jsdelivr.net/gh/kitholt/cdn/img/AliPayQR.png"></li>
                <li class="wechat-code"><img src="https://cdn.jsdelivr.net/gh/kitholt/cdn/img/WeChanQR.png"></li>
              </ul>
            </div>
          </div>
        </div>
        <div style="text-align:center; width: 100%" class="social-share share-mobile" data-disabled="diandian, tencent"></div>
        <footer class="post-footer">
          <div class="post-lincenses"><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="nofollow"><i class="fa fa-creative-commons" aria-hidden="true"></i> 知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议</a></div>
          <div class="post-tags">
					<div class="tag-cloud">
                  <div class="tag-cloud-title">
                  </div>
                  <div class="tag-cloud-tags">
                  <a href="/tags/Spring/" style="font-size: 10px; color: #f38181">Spring</a> <a href="/tags/ajax/" style="font-size: 10px; color: #f38181">ajax</a> <a href="/tags/css/" style="font-size: 12.5px; color: #dc9996">css</a> <a href="/tags/js/" style="font-size: 15px; color: #c4b1aa">js</a> <a href="/tags/nodeJs/" style="font-size: 10px; color: #f38181">nodeJs</a> <a href="/tags/spring/" style="font-size: 10px; color: #f38181">spring</a> <a href="/tags/vue/" style="font-size: 10px; color: #f38181">vue</a> <a href="/tags/吐槽/" style="font-size: 12.5px; color: #dc9996">吐槽</a> <a href="/tags/大学所学/" style="font-size: 17.5px; color: #adc9bf">大学所学</a> <a href="/tags/机器学习/" style="font-size: 10px; color: #f38181">机器学习</a> <a href="/tags/算法/" style="font-size: 20px; color: #95e1d3">算法</a> <a href="/tags/设计模式/" style="font-size: 10px; color: #f38181">设计模式</a>
                  </div>
                </div>

          </div>
          <div class="post-share">
            <div class="social-share sharehidden share-component"></div>
            <i class="iconfont show-share icon-forward"></i>
          </div>
        </footer><!-- .entry-footer -->
      </article>
      <!-- #post-## -->
      <div class="toc" style="background: none;"></div>
      <section class="post-squares nextprev">
        
        
          
            <div class="post-nepre full next">
          
            <a href="/undefined/漫长的从零到一的JS调试之路/" rel="next">
              <div class="background">
                <img class="lazyload" src="https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/loader/orange.progress-bar-stripe-loader.svg" data-src="https://cdn.jsdelivr.net/gh/kitholt/cdn/img/brokenHeart.jpg" style="width: 100%; height: 100%; object-fit: cover; pointer-events: none;" onerror="imgError(this,3)" src="https://cdn.jsdelivr.net/gh/kitholt/cdn/img/brokenHeart.jpg">
              </div>
              <span class="label">
              Next Post</span>
              <div class="info">
                <h3>
                漫长的从零到一的JS调试之路</h3>
                <hr>
              </div>
            </a>
          </div>
        
      </section>
      
<div id="vcomments"></div>
<script>
  window.onload = function(){
      var valine = new Valine();
      valine.init({
        el: '#vcomments',
        appId: "vK4njxg3C8GQOr9L6M8Hav7x-gzGzoHsz",
        appKey: "e9eG1y4IcG54g4l676M1xeWQ",
        path: window.location.pathname,
        placeholder: "整点留言呗"
      })
  }
</script>

      <section class="author-profile">
        <div class="info" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
          <a href="" class="profile gravatar"><img src="https://cdn.jsdelivr.net/gh/kitholt/cdn/img/kt3.jpeg" itemprop="image" alt="" height="70" width="70"></a>
          <div class="meta">
            <span class="title">Author</span>
            <h3 itemprop="name">
            <a href="" itemprop="url" rel="author"></a>
            </h3>
          </div>
        </div>
        <hr>
        <p><i class="iconfont icon-write"></i></p>
      </section>
    </main><!-- #main -->
  </div><!-- #primary -->
</div>



    </div>    
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="Type something..."/>
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: 'Posts',
            // PAGES: 'Pages',
            CATEGORIES: 'Categories',
            TAGS: 'Tags',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
    <!-- <footer id="footer">
  

  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2022 Kitholt Frank<br>
      powered_by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer> -->
<footer id="colophon" class="site-footer" role="contentinfo">
  <div class="site-info">
    <div class="footertext">
      <div class="img-preload">
        <img src="https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/other/wordpress-rotating-ball-o.svg">
        <img src="https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/other/disqus-preloader.svg">
      </div>
      <p style="color: #666666;">&copy 2021</p>
    </div>
    <div class="footer-device">
    <p style="font-family: 'Ubuntu', sans-serif;">
        <span style="color: #b9b9b9;">Theme <a href="https://github.com/honjun/hexo-theme-sakura" target="_blank" style="color: #b9b9b9;;text-decoration: underline dotted rgba(0, 0, 0, .1);">Sakura</a> <i class="iconfont icon-sakura rotating" style="color: #ffc0cb;display:inline-block"></i> by <a href="https://2heng.xin/" target="_blank" style="color: #b9b9b9;;text-decoration: underline dotted rgba(0, 0, 0, .1);">Mashiro</a>&<a href="https://www.hojun.cn/" target="_blank" style="color: #b9b9b9;;text-decoration: underline dotted rgba(0, 0, 0, .1);">Hojun</a>, Powered by Hexo, Hosted by Coding Pages</a>
        </span>
      </p>
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span id="busuanzi_container_site_uv">本站总访问量<span id="busuanzi_value_site_pv"></span>次</span>
    <span class="post-meta-divider">|</span>
    <span id="busuanzi_container_site_uv">本站访客数<span id="busuanzi_value_site_uv"></span>人</span>
    </div>
  </div><!-- .site-info -->
    
</footer>







<!-- <script src="/js/tocbot.js"></script> -->
<script type="text/javascript" src="/js/lib.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js"></script>
<script type="text/javascript" src="/js/InsightSearch.js"></script>
<script type="text/javascript" src="/js/jquery.fancybox.min.js"></script>
<script type="text/javascript" src="/js/zoom.min.js"></script>
<script type="text/javascript" src="/js/sakura-app.js"></script>
<script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
<script src='//unpkg.com/valine@1.3.4/dist/Valine.min.js'></script>
<script src="/js/botui.js"></script>
<!-- 不蒜子 网页计数器 -->
<script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.4.2/tocbot.min.js"></script> -->
<script type="text/javascript">
/* <![CDATA[ */
if (/Android|webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent)) {
  var Poi = {"pjax":"1","movies":{"url": "https://cdn.jsdelivr.net/gh/honjun/hojun@1.2","name":"Unbroken.mp4","live":"close"},"windowheight":"fixed","codelamp":"close","ajaxurl":"","order":"asc","formpostion":"bottom"};
} else {
  var Poi = {"pjax":"1","movies":{"url": "https://cdn.jsdelivr.net/gh/honjun/hojun@1.2","name":"Unbroken.mp4","live":"open"},"windowheight":"auto","codelamp":"close","ajaxurl":"","order":"asc","formpostion":"bottom"};
}
/* ]]> */

</script>
<script>
$(document).ready(function() {
  if ($(".toc").length > 0 && document.body.clientWidth > 1200) {
    if ($(".pattern-center").length > 0) { //有图的情况
      tocbot.init({
          // Where to render the table of contents.
          tocSelector: '.toc', // 放置目录的容器
          // Where to grab the headings to build the table of contents.
          contentSelector: '.entry-content', // 正文内容所在
          // Which headings to grab inside of the contentSelector element.
          scrollSmooth: true,
          headingSelector: 'h1, h2, h3, h4, h5', // 需要索引的标题级别
          headingsOffset: -400,
          scrollSmoothOffset: -85
      });
    } else {
      tocbot.init({
          // Where to render the table of contents.
          tocSelector: '.toc', // 放置目录的容器
          // Where to grab the headings to build the table of contents.
          contentSelector: '.entry-content', // 正文内容所在
          // Which headings to grab inside of the contentSelector element.
          scrollSmooth: true,
          headingSelector: 'h1, h2, h3, h4, h5', // 需要索引的标题级别
          headingsOffset: -85,
          scrollSmoothOffset: -85
      });
    }
    var offsetTop = $('.toc').offset().top - 95;
    window.onscroll = function() {
      var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop;
      if (scrollTop >= offsetTop) {
        $('.toc').addClass('toc-fixed');
      } else {
        $('.toc').removeClass('toc-fixed');
      }
    }
  }
});
</script>

    <div class="openNav no-select" style="height: 50px;">
      <div class="iconflat no-select" style="width: 50px; height: 50px;">
        <div class="icon"></div>
      </div>
      <div class="site-branding search-form-submit">
        <i class="iconfont js-toggle-search iconsearch icon-search"></i>
      </div>
    </div>
  </section>
  <div id="mo-nav" class="">
  <div class="m-avatar">
    <img src="https://cdn.jsdelivr.net/gh/kitholt/cdn/img/kt3.jpeg">
  </div>
  <p style="text-align: center; color: #333; font-weight: 900; font-family: 'Ubuntu', sans-serif; letter-spacing: 1.5px">KitholtFrank</p>
  <p style="text-align: center; word-spacing: 20px;">
    
      
        <a href="http://github.com/kitholt" class="fa fa-github" target="_blank" style="color: #333; margin-left:20px"></a>
      
    
  </p>
  <ul id="menu-new-1" class="menu">
    
      <li>
        <a href="/">
          <span class="faa-parent animated-hover">
            <i class="fa  fa-fort-awesome faa-shake" aria-hidden="true"></i>
            首页
          </span>
        </a>
        
      </li>
    
      <li>
        <a href="/archives">
          <span class="faa-parent animated-hover">
            <i class="fa  fa-archive faa-shake" aria-hidden="true"></i>
            归档
          </span>
        </a>
        
          <ul class="sub-menu">
            
              <li>
                <a href="/tags">
                  <i class="fa fa-tags" aria-hidden="true"></i>
                  标签
                </a>
              </li>
            
              <li>
                <a href="/categories/技术/">
                  <i class="fa fa-code" aria-hidden="true"></i>
                  技术
                </a>
              </li>
            
              <li>
                <a href="/categories/生活/">
                  <i class="fa fa-file-text-o" aria-hidden="true"></i>
                  生活
                </a>
              </li>
            
              <li>
                <a href="/categories/资源/">
                  <i class="fa fa-cloud-download" aria-hidden="true"></i>
                  资源
                </a>
              </li>
            
          </ul>
        
      </li>
    
      <li>
        <a href="javascript:;">
          <span class="faa-parent animated-hover">
            <i class="fa  fa-list-ul faa-vertical" aria-hidden="true"></i>
            清单
          </span>
        </a>
        
          <ul class="sub-menu">
            
              <li>
                <a href="/music/">
                  <i class="fa fa-headphones" aria-hidden="true"></i>
                  歌单
                </a>
              </li>
            
              <li>
                <a href="/bangumi/">
                  <i class="fa fa-film faa-vertical" aria-hidden="true"></i>
                  番组
                </a>
              </li>
            
          </ul>
        
      </li>
    
      <li>
        <a href="/comment/">
          <span class="faa-parent animated-hover">
            <i class="fa  fa-pencil-square-o faa-tada" aria-hidden="true"></i>
            留言板
          </span>
        </a>
        
      </li>
    
      <li>
        <a href="/donate/">
          <span class="faa-parent animated-hover">
            <i class="fa  fa-heart faa-pulse" aria-hidden="true"></i>
            资瓷
          </span>
        </a>
        
      </li>
    
      <li>
        <a href="/">
          <span class="faa-parent animated-hover">
            <i class="fa  fa-leaf faa-wrench" aria-hidden="true"></i>
            关于
          </span>
        </a>
        
          <ul class="sub-menu">
            
              <li>
                <a href="/about/">
                  <i class="fa fa-meetup" aria-hidden="true"></i>
                  我？
                </a>
              </li>
            
          </ul>
        
      </li>
    
  </ul>
  <p style="text-align: center; font-size: 13px; color: #b9b9b9;">&copy 2019 hexo-sakura</p>
</div>
<button onclick="topFunction()" class="mobile-cd-top" id="moblieGoTop" title="Go to top" style="display: none;"><i class="fa fa-chevron-up" aria-hidden="true"></i></button>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css">
<script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script>
<!-- require MetingJS -->
<script src="https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js"></script>
<style>
  .aplayer .aplayer-lrc {
    height: 35px;
  }
  .aplayer .aplayer-lrc p{
    font-size: 16px;
    font-weight: 700;
    line-height: 18px !important;
  }
  .aplayer .aplayer-lrc p.aplayer-lrc-current{
    color: #FF1493;
  }
  .aplayer.aplayer-narrow .aplayer-body{
    left: -66px !important;
  }
  .aplayer.aplayer-fixed .aplayer-lrc {
    display: none;
  }
  .aplayer .aplayer-lrc.aplayer-lrc-hide {
      display:none !important;
  }
  .aplayer.aplayer-fixed .lrc-show {
    display: block;
    background: rgba(255, 255, 255, 0.8);
  }
</style>
<meting-js

    id="890672374"

    server="netease"

    type="playlist"

    fixed="true"

    autoplay="false"

    loop="all"

    order="random"

    preload="auto"

    volume="0.7"

    mutex="true"

</meting-js>
<script>
  $(function(){
    $('body').on('click', '.aplayer', function(){
      if($('.aplayer-button').hasClass('aplayer-play')) {
        $('.aplayer-lrc').removeClass('lrc-show');
      } else {
        $('.aplayer-lrc').addClass('lrc-show');
      }
    })
  });
</script>
<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/wanko.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":true},"log":false});</script></body>
<noscript><iframe src="/blog/*>";</iframe></noscript>
<script src="https://cdn.jsdelivr.net/gh/Sanarous/files@1.151/js/click.min.js"></script>


<script src="https://cdn.jsdelivr.net/gh/wallleap/cdn/js/piao.js"></script>
 
<script src="https://cdn.jsdelivr.net/gh/wallleap/cdn/js/canvas-nest.min.js"></script>

<canvas class="fireworks" style="position: fixed;left: 0;top: 0;z-index: 1; pointer-events: none;" ></canvas> <script type="text/javascript" src="//cdn.bootcss.com/animejs/2.2.0/anime.min.js"></script> <script src="https://cdn.jsdelivr.net/gh/wallleap/cdn/js/clickBom.js"></script>


</html>